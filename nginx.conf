server {
    # Nginx가 80번 포트에서 요청을 수신하도록 설정합니다.
    listen 80;
    # 서버 이름을 설정합니다. 실제 배포 시에는 도메인 이름으로 변경할 수 있습니다.
    server_name localhost; 

    # 웹 루트 디렉토리를 설정합니다. (Dockerfile에서 빌드 결과물을 복사한 경로)
    root /usr/share/nginx/html;
    # 기본적으로 서빙할 인덱스 파일을 지정합니다.
    index index.html index.htm;

    # 모든 요청에 대해 처리하는 로직입니다.
    location / {
        # 요청된 URI가 파일로 존재하면 해당 파일을 서빙합니다.
        # 요청된 URI가 디렉토리로 존재하면 해당 디렉토리의 인덱스 파일을 서빙합니다.
        # 둘 다 아니면 /index.html 파일을 서빙합니다. (Vue Router History Mode를 위해 필수)
        try_files $uri $uri/ /index.html; 
    }

    # (선택 사항) 백엔드 API로 요청을 프록시하는 설정입니다.
    # 프론트엔드가 백엔드 API와 다른 도메인/포트에서 실행될 때 유용합니다.
    # 예: 프론트엔드에서 /api/users 로 요청하면 http://your_backend_service_name:8080/users 로 전달
    # location /api/ {
    #     proxy_pass http://your_backend_service_name:8080/; # 백엔드 서비스의 주소와 포트
    #     proxy_set_header Host $host;
    #     proxy_set_header X-Real-IP $remote_addr;
    #     proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
    # }
}
